/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
*/

var __defProp = Object.defineProperty;
var __getOwnPropDesc = Object.getOwnPropertyDescriptor;
var __getOwnPropNames = Object.getOwnPropertyNames;
var __hasOwnProp = Object.prototype.hasOwnProperty;
var __export = (target, all) => {
  for (var name in all)
    __defProp(target, name, { get: all[name], enumerable: true });
};
var __copyProps = (to, from, except, desc) => {
  if (from && typeof from === "object" || typeof from === "function") {
    for (let key of __getOwnPropNames(from))
      if (!__hasOwnProp.call(to, key) && key !== except)
        __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });
  }
  return to;
};
var __toCommonJS = (mod) => __copyProps(__defProp({}, "__esModule", { value: true }), mod);

// main.ts
var main_exports = {};
__export(main_exports, {
  default: () => CommentPlugin
});
module.exports = __toCommonJS(main_exports);
var import_obsidian = require("obsidian");
var CommentPlugin = class extends import_obsidian.Plugin {
  async onload() {
    console.log("Plugin de Coment\xE1rio Carregado!");
    this.injectStyles();
    this.addCommand({
      id: "add-comment",
      name: "Adicionar Coment\xE1rio",
      hotkeys: [{ modifiers: ["Ctrl"], key: "+" }],
      editorCallback: this.addComment.bind(this)
    });
    this.addCommand({
      id: "remove-comment",
      name: "Remover Coment\xE1rio",
      hotkeys: [{ modifiers: ["Ctrl"], key: "-" }],
      editorCallback: this.removeComment.bind(this)
    });
    this.registerDomEvent(document, "mouseover", this.handleMouseOver.bind(this));
    this.registerDomEvent(document, "mouseout", this.handleMouseOut.bind(this));
  }
  injectStyles() {
    const style = document.createElement("style");
    style.textContent = `
      .comment {
        border-bottom: 2px dashed #4a90e2;
        color: #ffffff;
        font-style: italic;
        cursor: pointer;
        transition: all 0.3s ease;
      }
      .comment:hover {
        border-bottom-color: #357abd;
        background-color: rgba(255, 255, 255, 0.1);
      }
      .comment-tooltip {
        background-color: #1e1e1e;
        border: 1px solid #444444;
        color: #ffffff;
        border-radius: 8px;
        box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        padding: 10px;
        font-family: Arial, sans-serif;
        font-size: 14px;
        z-index: 9999;
      }
      .comment-button {
        background-color: #1e1e1e;
        color: #ffffff;
        border: 1px solid #353535;
        border-radius: 4px;
        padding: 5px 10px;
        cursor: pointer;
        margin-top: 5px;
        transition: background-color 0.3s ease;
      }
      .comment-button:hover {
        background-color: #181818;
      }
    `;
    document.head.appendChild(style);
  }
  addComment(editor) {
    const selectedText = editor.getSelection();
    if (!selectedText) {
      new import_obsidian.Notice("Selecione um texto para comentar.");
      return;
    }
    new CommentModal(this.app, (comment) => {
      editor.replaceSelection(`<span class="comment" data-comment="${comment}" style="border-bottom: 1px dotted; cursor: pointer;">${selectedText}</span>`);
    }).open();
  }
  removeComment(editor) {
    const cursor = editor.getCursor();
    const line = editor.getLine(cursor.line);
    editor.replaceRange(line.replace(/<span class="comment"[^>]*>(.*?)<\/span>/g, "$1"), { line: cursor.line, ch: 0 }, { line: cursor.line, ch: line.length });
  }
  handleMouseOver(evt) {
    const target = evt.target;
    if (target instanceof HTMLElement && target.classList.contains("comment")) {
      this.showTooltip(target, target.getAttribute("data-comment") || "");
    }
  }
  handleMouseOut(evt) {
    const relatedTarget = evt.relatedTarget;
    if (!relatedTarget || !relatedTarget.closest(".comment") && !relatedTarget.closest(".comment-tooltip")) {
      this.hideTooltip();
    }
  }
  showTooltip(target, comment) {
    var _a;
    const tooltip = document.createElement("div");
    tooltip.classList.add("comment-tooltip");
    tooltip.innerHTML = `<div class="comment-tooltip-content"><p>${comment}</p><button class="comment-button edit-comment">Editar</button></div>`;
    Object.assign(tooltip.style, {
      position: "absolute",
      top: `${target.getBoundingClientRect().top - 80}px`,
      left: `${target.getBoundingClientRect().left + 20}px`,
      pointerEvents: "all"
    });
    document.body.appendChild(tooltip);
    (_a = tooltip.querySelector(".edit-comment")) == null ? void 0 : _a.addEventListener("click", () => {
      this.editComment(target, comment, tooltip);
    });
  }
  hideTooltip() {
    document.querySelectorAll(".comment-tooltip").forEach((tooltip) => tooltip.remove());
  }
  editComment(target, comment, tooltip) {
    new EditCommentModal(this.app, comment, (newComment) => {
      if (newComment) {
        target.setAttribute("data-comment", newComment);
        tooltip.querySelector("p").textContent = newComment;
      }
      tooltip.remove();
    }).open();
  }
};
var CommentModal = class extends import_obsidian.Modal {
  constructor(app, onSubmit) {
    super(app);
    this.onSubmit = onSubmit;
  }
  onOpen() {
    this.contentEl.createEl("h2", { text: "Adicionar Coment\xE1rio" });
    const input = this.createInput();
    this.createButton("Salvar", () => {
      const newComment = input.value.trim();
      if (newComment) {
        this.onSubmit(newComment);
        this.close();
      } else {
        new import_obsidian.Notice("Por favor, insira um coment\xE1rio.");
      }
    });
  }
  createInput() {
    const input = this.contentEl.createEl("textarea", { placeholder: "Digite seu coment\xE1rio..." });
    Object.assign(input.style, { width: "100%", height: "100px" });
    return input;
  }
  createButton(text, onClick) {
    const button = this.contentEl.createEl("button", { text });
    button.classList.add("comment-button");
    button.addEventListener("click", onClick);
    this.contentEl.appendChild(button);
  }
  onClose() {
    this.contentEl.empty();
  }
};
var EditCommentModal = class extends CommentModal {
  constructor(app, currentComment, onSubmit) {
    super(app, onSubmit);
    this.currentComment = currentComment;
  }
  onOpen() {
    this.contentEl.createEl("h2", { text: "Editar Coment\xE1rio" });
    const input = this.createInput();
    input.value = this.currentComment;
    this.createButton("Salvar", () => {
      const newComment = input.value.trim();
      if (newComment) {
        this.onSubmit(newComment);
        this.close();
      } else {
        new import_obsidian.Notice("Por favor, insira um coment\xE1rio.");
      }
    });
  }
};
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsibWFpbi50cyJdLAogICJzb3VyY2VzQ29udGVudCI6IFsiaW1wb3J0IHsgQXBwLCBFZGl0b3IsIE1hcmtkb3duVmlldywgTW9kYWwsIE5vdGljZSwgUGx1Z2luIH0gZnJvbSBcIm9ic2lkaWFuXCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBDb21tZW50UGx1Z2luIGV4dGVuZHMgUGx1Z2luIHtcclxuICBhc3luYyBvbmxvYWQoKSB7XHJcbiAgICBjb25zb2xlLmxvZyhcIlBsdWdpbiBkZSBDb21lbnRcdTAwRTFyaW8gQ2FycmVnYWRvIVwiKTtcclxuICAgIHRoaXMuaW5qZWN0U3R5bGVzKCk7XHJcblxyXG4gICAgdGhpcy5hZGRDb21tYW5kKHtcclxuICAgICAgaWQ6IFwiYWRkLWNvbW1lbnRcIixcclxuICAgICAgbmFtZTogXCJBZGljaW9uYXIgQ29tZW50XHUwMEUxcmlvXCIsXHJcbiAgICAgIGhvdGtleXM6IFt7IG1vZGlmaWVyczogW1wiQ3RybFwiXSwga2V5OiBcIitcIiB9XSxcclxuICAgICAgZWRpdG9yQ2FsbGJhY2s6IHRoaXMuYWRkQ29tbWVudC5iaW5kKHRoaXMpLFxyXG4gICAgfSk7XHJcblxyXG4gICAgdGhpcy5hZGRDb21tYW5kKHtcclxuICAgICAgaWQ6IFwicmVtb3ZlLWNvbW1lbnRcIixcclxuICAgICAgbmFtZTogXCJSZW1vdmVyIENvbWVudFx1MDBFMXJpb1wiLFxyXG4gICAgICBob3RrZXlzOiBbeyBtb2RpZmllcnM6IFtcIkN0cmxcIl0sIGtleTogXCItXCIgfV0sXHJcbiAgICAgIGVkaXRvckNhbGxiYWNrOiB0aGlzLnJlbW92ZUNvbW1lbnQuYmluZCh0aGlzKSxcclxuICAgIH0pO1xyXG5cclxuICAgIHRoaXMucmVnaXN0ZXJEb21FdmVudChkb2N1bWVudCwgXCJtb3VzZW92ZXJcIiwgdGhpcy5oYW5kbGVNb3VzZU92ZXIuYmluZCh0aGlzKSk7XHJcbiAgICB0aGlzLnJlZ2lzdGVyRG9tRXZlbnQoZG9jdW1lbnQsIFwibW91c2VvdXRcIiwgdGhpcy5oYW5kbGVNb3VzZU91dC5iaW5kKHRoaXMpKTtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgaW5qZWN0U3R5bGVzKCkge1xyXG4gICAgY29uc3Qgc3R5bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3R5bGVcIik7XHJcbiAgICBzdHlsZS50ZXh0Q29udGVudCA9IGBcclxuICAgICAgLmNvbW1lbnQge1xyXG4gICAgICAgIGJvcmRlci1ib3R0b206IDJweCBkYXNoZWQgIzRhOTBlMjtcclxuICAgICAgICBjb2xvcjogI2ZmZmZmZjtcclxuICAgICAgICBmb250LXN0eWxlOiBpdGFsaWM7XHJcbiAgICAgICAgY3Vyc29yOiBwb2ludGVyO1xyXG4gICAgICAgIHRyYW5zaXRpb246IGFsbCAwLjNzIGVhc2U7XHJcbiAgICAgIH1cclxuICAgICAgLmNvbW1lbnQ6aG92ZXIge1xyXG4gICAgICAgIGJvcmRlci1ib3R0b20tY29sb3I6ICMzNTdhYmQ7XHJcbiAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjEpO1xyXG4gICAgICB9XHJcbiAgICAgIC5jb21tZW50LXRvb2x0aXAge1xyXG4gICAgICAgIGJhY2tncm91bmQtY29sb3I6ICMxZTFlMWU7XHJcbiAgICAgICAgYm9yZGVyOiAxcHggc29saWQgIzQ0NDQ0NDtcclxuICAgICAgICBjb2xvcjogI2ZmZmZmZjtcclxuICAgICAgICBib3JkZXItcmFkaXVzOiA4cHg7XHJcbiAgICAgICAgYm94LXNoYWRvdzogMCA0cHggNnB4IHJnYmEoMCwgMCwgMCwgMC4xKTtcclxuICAgICAgICBwYWRkaW5nOiAxMHB4O1xyXG4gICAgICAgIGZvbnQtZmFtaWx5OiBBcmlhbCwgc2Fucy1zZXJpZjtcclxuICAgICAgICBmb250LXNpemU6IDE0cHg7XHJcbiAgICAgICAgei1pbmRleDogOTk5OTtcclxuICAgICAgfVxyXG4gICAgICAuY29tbWVudC1idXR0b24ge1xyXG4gICAgICAgIGJhY2tncm91bmQtY29sb3I6ICMxZTFlMWU7XHJcbiAgICAgICAgY29sb3I6ICNmZmZmZmY7XHJcbiAgICAgICAgYm9yZGVyOiAxcHggc29saWQgIzM1MzUzNTtcclxuICAgICAgICBib3JkZXItcmFkaXVzOiA0cHg7XHJcbiAgICAgICAgcGFkZGluZzogNXB4IDEwcHg7XHJcbiAgICAgICAgY3Vyc29yOiBwb2ludGVyO1xyXG4gICAgICAgIG1hcmdpbi10b3A6IDVweDtcclxuICAgICAgICB0cmFuc2l0aW9uOiBiYWNrZ3JvdW5kLWNvbG9yIDAuM3MgZWFzZTtcclxuICAgICAgfVxyXG4gICAgICAuY29tbWVudC1idXR0b246aG92ZXIge1xyXG4gICAgICAgIGJhY2tncm91bmQtY29sb3I6ICMxODE4MTg7XHJcbiAgICAgIH1cclxuICAgIGA7XHJcbiAgICBkb2N1bWVudC5oZWFkLmFwcGVuZENoaWxkKHN0eWxlKTtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgYWRkQ29tbWVudChlZGl0b3I6IEVkaXRvcikge1xyXG4gICAgY29uc3Qgc2VsZWN0ZWRUZXh0ID0gZWRpdG9yLmdldFNlbGVjdGlvbigpO1xyXG4gICAgaWYgKCFzZWxlY3RlZFRleHQpIHtcclxuICAgICAgbmV3IE5vdGljZShcIlNlbGVjaW9uZSB1bSB0ZXh0byBwYXJhIGNvbWVudGFyLlwiKTtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIG5ldyBDb21tZW50TW9kYWwodGhpcy5hcHAsIChjb21tZW50KSA9PiB7XHJcbiAgICAgIGVkaXRvci5yZXBsYWNlU2VsZWN0aW9uKGA8c3BhbiBjbGFzcz1cImNvbW1lbnRcIiBkYXRhLWNvbW1lbnQ9XCIke2NvbW1lbnR9XCIgc3R5bGU9XCJib3JkZXItYm90dG9tOiAxcHggZG90dGVkOyBjdXJzb3I6IHBvaW50ZXI7XCI+JHtzZWxlY3RlZFRleHR9PC9zcGFuPmApO1xyXG4gICAgfSkub3BlbigpO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSByZW1vdmVDb21tZW50KGVkaXRvcjogRWRpdG9yKSB7XHJcbiAgICBjb25zdCBjdXJzb3IgPSBlZGl0b3IuZ2V0Q3Vyc29yKCk7XHJcbiAgICBjb25zdCBsaW5lID0gZWRpdG9yLmdldExpbmUoY3Vyc29yLmxpbmUpO1xyXG4gICAgZWRpdG9yLnJlcGxhY2VSYW5nZShsaW5lLnJlcGxhY2UoLzxzcGFuIGNsYXNzPVwiY29tbWVudFwiW14+XSo+KC4qPyk8XFwvc3Bhbj4vZywgXCIkMVwiKSwgeyBsaW5lOiBjdXJzb3IubGluZSwgY2g6IDAgfSwgeyBsaW5lOiBjdXJzb3IubGluZSwgY2g6IGxpbmUubGVuZ3RoIH0pO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBoYW5kbGVNb3VzZU92ZXIoZXZ0OiBNb3VzZUV2ZW50KSB7XHJcbiAgICBjb25zdCB0YXJnZXQgPSBldnQudGFyZ2V0IGFzIEhUTUxFbGVtZW50O1xyXG4gICAgaWYgKHRhcmdldCBpbnN0YW5jZW9mIEhUTUxFbGVtZW50ICYmIHRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoXCJjb21tZW50XCIpKSB7XHJcbiAgICAgIHRoaXMuc2hvd1Rvb2x0aXAodGFyZ2V0LCB0YXJnZXQuZ2V0QXR0cmlidXRlKFwiZGF0YS1jb21tZW50XCIpIHx8IFwiXCIpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBoYW5kbGVNb3VzZU91dChldnQ6IE1vdXNlRXZlbnQpIHtcclxuICAgIGNvbnN0IHJlbGF0ZWRUYXJnZXQgPSBldnQucmVsYXRlZFRhcmdldCBhcyBIVE1MRWxlbWVudCB8IG51bGw7XHJcbiAgICBpZiAoIXJlbGF0ZWRUYXJnZXQgfHwgKCFyZWxhdGVkVGFyZ2V0LmNsb3Nlc3QoXCIuY29tbWVudFwiKSAmJiAhcmVsYXRlZFRhcmdldC5jbG9zZXN0KFwiLmNvbW1lbnQtdG9vbHRpcFwiKSkpIHtcclxuICAgICAgdGhpcy5oaWRlVG9vbHRpcCgpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBzaG93VG9vbHRpcCh0YXJnZXQ6IEhUTUxFbGVtZW50LCBjb21tZW50OiBzdHJpbmcpIHtcclxuICAgIGNvbnN0IHRvb2x0aXAgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xyXG4gICAgdG9vbHRpcC5jbGFzc0xpc3QuYWRkKFwiY29tbWVudC10b29sdGlwXCIpOyAvLyBBcGxpY2FuZG8gYSBjbGFzc2UgY29tbWVudC10b29sdGlwXHJcbiAgICB0b29sdGlwLmlubmVySFRNTCA9IGA8ZGl2IGNsYXNzPVwiY29tbWVudC10b29sdGlwLWNvbnRlbnRcIj48cD4ke2NvbW1lbnR9PC9wPjxidXR0b24gY2xhc3M9XCJjb21tZW50LWJ1dHRvbiBlZGl0LWNvbW1lbnRcIj5FZGl0YXI8L2J1dHRvbj48L2Rpdj5gO1xyXG4gICAgT2JqZWN0LmFzc2lnbih0b29sdGlwLnN0eWxlLCB7XHJcbiAgICAgIHBvc2l0aW9uOiBcImFic29sdXRlXCIsXHJcbiAgICAgIHRvcDogYCR7dGFyZ2V0LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLnRvcCAtIDgwfXB4YCxcclxuICAgICAgbGVmdDogYCR7dGFyZ2V0LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmxlZnQgKyAyMH1weGAsXHJcbiAgICAgIHBvaW50ZXJFdmVudHM6IFwiYWxsXCIsXHJcbiAgICB9KTtcclxuICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQodG9vbHRpcCk7XHJcblxyXG4gICAgdG9vbHRpcC5xdWVyeVNlbGVjdG9yKFwiLmVkaXQtY29tbWVudFwiKT8uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICAgICAgdGhpcy5lZGl0Q29tbWVudCh0YXJnZXQsIGNvbW1lbnQsIHRvb2x0aXApO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIGhpZGVUb29sdGlwKCkge1xyXG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5jb21tZW50LXRvb2x0aXBcIikuZm9yRWFjaCgodG9vbHRpcCkgPT4gdG9vbHRpcC5yZW1vdmUoKSk7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIGVkaXRDb21tZW50KHRhcmdldDogSFRNTEVsZW1lbnQsIGNvbW1lbnQ6IHN0cmluZywgdG9vbHRpcDogSFRNTEVsZW1lbnQpIHtcclxuICAgIG5ldyBFZGl0Q29tbWVudE1vZGFsKHRoaXMuYXBwLCBjb21tZW50LCAobmV3Q29tbWVudCkgPT4ge1xyXG4gICAgICBpZiAobmV3Q29tbWVudCkge1xyXG4gICAgICAgIHRhcmdldC5zZXRBdHRyaWJ1dGUoXCJkYXRhLWNvbW1lbnRcIiwgbmV3Q29tbWVudCk7XHJcbiAgICAgICAgdG9vbHRpcC5xdWVyeVNlbGVjdG9yKFwicFwiKSEudGV4dENvbnRlbnQgPSBuZXdDb21tZW50O1xyXG4gICAgICB9XHJcbiAgICAgIHRvb2x0aXAucmVtb3ZlKCk7XHJcbiAgICB9KS5vcGVuKCk7XHJcbiAgfVxyXG59XHJcblxyXG5jbGFzcyBDb21tZW50TW9kYWwgZXh0ZW5kcyBNb2RhbCB7XHJcbiAgY29uc3RydWN0b3IoYXBwOiBBcHAsIHByb3RlY3RlZCBvblN1Ym1pdDogKGNvbW1lbnQ6IHN0cmluZykgPT4gdm9pZCkge1xyXG4gICAgc3VwZXIoYXBwKTtcclxuICB9XHJcblxyXG4gIG9uT3BlbigpIHtcclxuICAgIHRoaXMuY29udGVudEVsLmNyZWF0ZUVsKFwiaDJcIiwgeyB0ZXh0OiBcIkFkaWNpb25hciBDb21lbnRcdTAwRTFyaW9cIiB9KTtcclxuICAgIGNvbnN0IGlucHV0ID0gdGhpcy5jcmVhdGVJbnB1dCgpO1xyXG4gICAgdGhpcy5jcmVhdGVCdXR0b24oXCJTYWx2YXJcIiwgKCkgPT4ge1xyXG4gICAgICBjb25zdCBuZXdDb21tZW50ID0gaW5wdXQudmFsdWUudHJpbSgpO1xyXG4gICAgICBpZiAobmV3Q29tbWVudCkge1xyXG4gICAgICAgIHRoaXMub25TdWJtaXQobmV3Q29tbWVudCk7XHJcbiAgICAgICAgdGhpcy5jbG9zZSgpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIG5ldyBOb3RpY2UoXCJQb3IgZmF2b3IsIGluc2lyYSB1bSBjb21lbnRcdTAwRTFyaW8uXCIpO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIHByb3RlY3RlZCBjcmVhdGVJbnB1dCgpOiBIVE1MVGV4dEFyZWFFbGVtZW50IHtcclxuICAgIGNvbnN0IGlucHV0ID0gdGhpcy5jb250ZW50RWwuY3JlYXRlRWwoXCJ0ZXh0YXJlYVwiLCB7IHBsYWNlaG9sZGVyOiBcIkRpZ2l0ZSBzZXUgY29tZW50XHUwMEUxcmlvLi4uXCIgfSk7XHJcbiAgICBPYmplY3QuYXNzaWduKGlucHV0LnN0eWxlLCB7IHdpZHRoOiBcIjEwMCVcIiwgaGVpZ2h0OiBcIjEwMHB4XCIgfSk7XHJcbiAgICByZXR1cm4gaW5wdXQ7XHJcbiAgfVxyXG5cclxuICBwcm90ZWN0ZWQgY3JlYXRlQnV0dG9uKHRleHQ6IHN0cmluZywgb25DbGljazogKCkgPT4gdm9pZCkge1xyXG4gICAgY29uc3QgYnV0dG9uID0gdGhpcy5jb250ZW50RWwuY3JlYXRlRWwoXCJidXR0b25cIiwgeyB0ZXh0IH0pO1xyXG4gICAgYnV0dG9uLmNsYXNzTGlzdC5hZGQoXCJjb21tZW50LWJ1dHRvblwiKTtcclxuICAgIGJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgb25DbGljayk7XHJcbiAgICB0aGlzLmNvbnRlbnRFbC5hcHBlbmRDaGlsZChidXR0b24pO1xyXG4gIH1cclxuXHJcbiAgb25DbG9zZSgpIHtcclxuICAgIHRoaXMuY29udGVudEVsLmVtcHR5KCk7XHJcbiAgfVxyXG59XHJcblxyXG5jbGFzcyBFZGl0Q29tbWVudE1vZGFsIGV4dGVuZHMgQ29tbWVudE1vZGFsIHtcclxuICBjb25zdHJ1Y3RvcihhcHA6IEFwcCwgcHJpdmF0ZSBjdXJyZW50Q29tbWVudDogc3RyaW5nLCBvblN1Ym1pdDogKGNvbW1lbnQ6IHN0cmluZykgPT4gdm9pZCkge1xyXG4gICAgc3VwZXIoYXBwLCBvblN1Ym1pdCk7XHJcbiAgfVxyXG5cclxuICBvbk9wZW4oKSB7XHJcbiAgICB0aGlzLmNvbnRlbnRFbC5jcmVhdGVFbChcImgyXCIsIHsgdGV4dDogXCJFZGl0YXIgQ29tZW50XHUwMEUxcmlvXCIgfSk7XHJcbiAgICBjb25zdCBpbnB1dCA9IHRoaXMuY3JlYXRlSW5wdXQoKTtcclxuICAgIGlucHV0LnZhbHVlID0gdGhpcy5jdXJyZW50Q29tbWVudDtcclxuICAgIHRoaXMuY3JlYXRlQnV0dG9uKFwiU2FsdmFyXCIsICgpID0+IHtcclxuICAgICAgY29uc3QgbmV3Q29tbWVudCA9IGlucHV0LnZhbHVlLnRyaW0oKTtcclxuICAgICAgaWYgKG5ld0NvbW1lbnQpIHtcclxuICAgICAgICB0aGlzLm9uU3VibWl0KG5ld0NvbW1lbnQpO1xyXG4gICAgICAgIHRoaXMuY2xvc2UoKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBuZXcgTm90aWNlKFwiUG9yIGZhdm9yLCBpbnNpcmEgdW0gY29tZW50XHUwMEUxcmlvLlwiKTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgfVxyXG59XHJcbiJdLAogICJtYXBwaW5ncyI6ICI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxzQkFBaUU7QUFFakUsSUFBcUIsZ0JBQXJCLGNBQTJDLHVCQUFPO0FBQUEsRUFDaEQsTUFBTSxTQUFTO0FBQ2IsWUFBUSxJQUFJLG9DQUFpQztBQUM3QyxTQUFLLGFBQWE7QUFFbEIsU0FBSyxXQUFXO0FBQUEsTUFDZCxJQUFJO0FBQUEsTUFDSixNQUFNO0FBQUEsTUFDTixTQUFTLENBQUMsRUFBRSxXQUFXLENBQUMsTUFBTSxHQUFHLEtBQUssSUFBSSxDQUFDO0FBQUEsTUFDM0MsZ0JBQWdCLEtBQUssV0FBVyxLQUFLLElBQUk7QUFBQSxJQUMzQyxDQUFDO0FBRUQsU0FBSyxXQUFXO0FBQUEsTUFDZCxJQUFJO0FBQUEsTUFDSixNQUFNO0FBQUEsTUFDTixTQUFTLENBQUMsRUFBRSxXQUFXLENBQUMsTUFBTSxHQUFHLEtBQUssSUFBSSxDQUFDO0FBQUEsTUFD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
